window.jest_html_reporters_callback__({"numFailedTestSuites":2,"numFailedTests":6,"numPassedTestSuites":1,"numPassedTests":86,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":3,"numTotalTests":92,"startTime":1757525859783,"success":false,"testResults":[{"numFailingTests":2,"numPassingTests":23,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1757525860355,"loadTestEnvironmentEnd":1757525859889,"loadTestEnvironmentStart":1757525859875,"runtime":465,"setupAfterEnvEnd":1757525860141,"setupAfterEnvStart":1757525859941,"setupFilesEnd":1757525859890,"setupFilesStart":1757525859890,"slow":false,"start":1757525859890},"testFilePath":"/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/srs/__tests__/algorithm.test.ts","failureMessage":"  ● SRSAlgorithm › Interval Progression › should cap interval at maximum\n\n    expect(received).toBeLessThanOrEqual(expected)\n\n    Expected: <= 365\n    Received:    401.50000000000006\n\n      101 |       \n      102 |       const srsData = algorithm.calculateNextReview(mockItem, result)\n    > 103 |       expect(srsData.interval).toBeLessThanOrEqual(DEFAULT_SRS_CONFIG.maxInterval)\n          |                                ^\n      104 |     })\n      105 |   })\n      106 |   \n\n      at Object.<anonymous> (src/lib/review-engine/srs/__tests__/algorithm.test.ts:103:32)\n\n  ● SRSAlgorithm › Ease Factor Adjustments › should adjust ease factor based on quality\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 2.5\n    Received:   2.5\n\n      109 |       // Quality 5 (perfect) should increase ease factor\n      110 |       let newEF = algorithm.calculateEaseFactor(2.5, 5)\n    > 111 |       expect(newEF).toBeGreaterThan(2.5)\n          |                     ^\n      112 |       \n      113 |       // Quality 3 (okay) should slightly decrease ease factor\n      114 |       newEF = algorithm.calculateEaseFactor(2.5, 3)\n\n      at Object.<anonymous> (src/lib/review-engine/srs/__tests__/algorithm.test.ts:111:21)\n","testResults":[{"ancestorTitles":["SRSAlgorithm","Interval Progression"],"duration":2,"failureMessages":[],"fullName":"SRSAlgorithm Interval Progression should progress intervals correctly for correct answers","status":"passed","title":"should progress intervals correctly for correct answers"},{"ancestorTitles":["SRSAlgorithm","Interval Progression"],"duration":1,"failureMessages":[],"fullName":"SRSAlgorithm Interval Progression should reset on wrong answer","status":"passed","title":"should reset on wrong answer"},{"ancestorTitles":["SRSAlgorithm","Interval Progression"],"duration":1,"failureMessages":["Error: expect(received).toBeLessThanOrEqual(expected)\n\nExpected: <= 365\nReceived:    401.50000000000006\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/srs/__tests__/algorithm.test.ts:103:32)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"SRSAlgorithm Interval Progression should cap interval at maximum","status":"failed","title":"should cap interval at maximum"},{"ancestorTitles":["SRSAlgorithm","Ease Factor Adjustments"],"duration":1,"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 2.5\nReceived:   2.5\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/srs/__tests__/algorithm.test.ts:111:21)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"SRSAlgorithm Ease Factor Adjustments should adjust ease factor based on quality","status":"failed","title":"should adjust ease factor based on quality"},{"ancestorTitles":["SRSAlgorithm","Ease Factor Adjustments"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Ease Factor Adjustments should respect min and max ease factor bounds","status":"passed","title":"should respect min and max ease factor bounds"},{"ancestorTitles":["SRSAlgorithm","State Transitions"],"duration":1,"failureMessages":[],"fullName":"SRSAlgorithm State Transitions should transition from new to learning on first correct answer","status":"passed","title":"should transition from new to learning on first correct answer"},{"ancestorTitles":["SRSAlgorithm","State Transitions"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm State Transitions should graduate from learning to review after completing steps","status":"passed","title":"should graduate from learning to review after completing steps"},{"ancestorTitles":["SRSAlgorithm","State Transitions"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm State Transitions should promote to mastered when interval >= 21 and accuracy >= 90%","status":"passed","title":"should promote to mastered when interval >= 21 and accuracy >= 90%"},{"ancestorTitles":["SRSAlgorithm","State Transitions"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm State Transitions should demote from mastered on wrong answer","status":"passed","title":"should demote from mastered on wrong answer"},{"ancestorTitles":["SRSAlgorithm","Quality Calculation"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Quality Calculation should calculate quality from confidence","status":"passed","title":"should calculate quality from confidence"},{"ancestorTitles":["SRSAlgorithm","Quality Calculation"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Quality Calculation should calculate quality from response time when confidence not provided","status":"passed","title":"should calculate quality from response time when confidence not provided"},{"ancestorTitles":["SRSAlgorithm","Quality Calculation"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Quality Calculation should reduce quality for hints used","status":"passed","title":"should reduce quality for hints used"},{"ancestorTitles":["SRSAlgorithm","Quality Calculation"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Quality Calculation should reduce quality for multiple attempts","status":"passed","title":"should reduce quality for multiple attempts"},{"ancestorTitles":["SRSAlgorithm","Quality Calculation"],"duration":1,"failureMessages":[],"fullName":"SRSAlgorithm Quality Calculation should return 0 quality for wrong answers","status":"passed","title":"should return 0 quality for wrong answers"},{"ancestorTitles":["SRSAlgorithm","Response Time Adjustments"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Response Time Adjustments should increase interval for very fast responses","status":"passed","title":"should increase interval for very fast responses"},{"ancestorTitles":["SRSAlgorithm","Response Time Adjustments"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Response Time Adjustments should decrease interval for very slow responses","status":"passed","title":"should decrease interval for very slow responses"},{"ancestorTitles":["SRSAlgorithm","Streak Tracking"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Streak Tracking should increment streak on correct answer","status":"passed","title":"should increment streak on correct answer"},{"ancestorTitles":["SRSAlgorithm","Streak Tracking"],"duration":1,"failureMessages":[],"fullName":"SRSAlgorithm Streak Tracking should reset streak on wrong answer","status":"passed","title":"should reset streak on wrong answer"},{"ancestorTitles":["SRSAlgorithm","Utility Methods"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Utility Methods should correctly identify due items","status":"passed","title":"should correctly identify due items"},{"ancestorTitles":["SRSAlgorithm","Utility Methods"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Utility Methods should sort items by priority correctly","status":"passed","title":"should sort items by priority correctly"},{"ancestorTitles":["SRSAlgorithm","Utility Methods"],"duration":1,"failureMessages":[],"fullName":"SRSAlgorithm Utility Methods should calculate retention correctly","status":"passed","title":"should calculate retention correctly"},{"ancestorTitles":["SRSAlgorithm","Utility Methods"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Utility Methods should identify leeches correctly","status":"passed","title":"should identify leeches correctly"},{"ancestorTitles":["SRSAlgorithm","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Edge Cases should handle items without SRS data","status":"passed","title":"should handle items without SRS data"},{"ancestorTitles":["SRSAlgorithm","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Edge Cases should handle zero response time","status":"passed","title":"should handle zero response time"},{"ancestorTitles":["SRSAlgorithm","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"SRSAlgorithm Edge Cases should handle undefined confidence","status":"passed","title":"should handle undefined confidence"}]},{"numFailingTests":4,"numPassingTests":34,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1757525860497,"loadTestEnvironmentEnd":1757525860362,"loadTestEnvironmentStart":1757525860360,"runtime":135,"setupAfterEnvEnd":1757525860417,"setupAfterEnvStart":1757525860371,"setupFilesEnd":1757525860362,"setupFilesStart":1757525860362,"slow":false,"start":1757525860362},"testFilePath":"/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts","failureMessage":"  ● BaseValidator › Fuzzy Matching (Levenshtein Distance) › should calculate similarity correctly\n\n    expect(received).toBeCloseTo(expected, precision)\n\n    Expected: 0.5\n    Received: 0.75\n\n    Expected precision:    2\n    Expected difference: < 0.005\n    Received difference:   0.25\n\n      163 |       \n      164 |       // Two character difference\n    > 165 |       expect(validator['calculateSimilarity']('test', 'tast')).toBeCloseTo(0.5, 2);\n          |                                                                ^\n      166 |       \n      167 |       // Completely different\n      168 |       expect(validator['calculateSimilarity']('test', 'abcd')).toBe(0);\n\n      at Object.<anonymous> (src/lib/review-engine/validation/__tests__/base-validator.test.ts:165:64)\n\n  ● BaseValidator › Fuzzy Matching (Levenshtein Distance) › should use custom fuzzy threshold\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 0.5\n    Received: 0.75\n\n      188 |       const result = validator.validate('tast', 'test'); // 0.5 similarity\n      189 |       expect(result.isCorrect).toBe(true);\n    > 190 |       expect(result.partialCredit).toBe(0.5);\n          |                                    ^\n      191 |     });\n      192 |\n      193 |     it('should handle case normalization in fuzzy matching', () => {\n\n      at Object.<anonymous> (src/lib/review-engine/validation/__tests__/base-validator.test.ts:190:36)\n\n  ● BaseValidator › Performance Considerations › should cache normalized strings during comparison\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 4\n    Received number of calls: 2\n\n      376 |       \n      377 |       // Should normalize input once, and each answer once\n    > 378 |       expect(spy).toHaveBeenCalledTimes(4);\n          |                   ^\n      379 |     });\n      380 |   });\n      381 |\n\n      at Object.<anonymous> (src/lib/review-engine/validation/__tests__/base-validator.test.ts:378:19)\n\n  ● BaseValidator › Edge Cases › should handle null/undefined gracefully\n\n    TypeError: Cannot read properties of null (reading 'trim')\n\n      55 |    */\n      56 |   protected normalize(text: string): string {\n    > 57 |     let normalized = text.trim();\n         |                           ^\n      58 |     \n      59 |     if (!this.options.caseSensitive) {\n      60 |       normalized = normalized.toLowerCase();\n\n      at TestValidator.trim [as normalize] (src/lib/review-engine/validation/base-validator.ts:57:27)\n      at TestValidator.normalize [as isExactMatch] (src/lib/review-engine/validation/base-validator.ts:78:17)\n      at isExactMatch (src/lib/review-engine/validation/base-validator.ts:86:12)\n          at Array.some (<anonymous>)\n      at TestValidator.some [as matchesAny] (src/lib/review-engine/validation/base-validator.ts:85:27)\n      at TestValidator.validate (src/lib/review-engine/validation/__tests__/base-validator.test.ts:20:14)\n      at Object.<anonymous> (src/lib/review-engine/validation/__tests__/base-validator.test.ts:385:33)\n","testResults":[{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should normalize case by default","status":"passed","title":"should normalize case by default"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":1,"failureMessages":[],"fullName":"BaseValidator Text Normalization should respect case sensitivity option","status":"passed","title":"should respect case sensitivity option"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should trim whitespace","status":"passed","title":"should trim whitespace"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should ignore spaces when option is set","status":"passed","title":"should ignore spaces when option is set"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should ignore punctuation when option is set","status":"passed","title":"should ignore punctuation when option is set"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should handle Japanese punctuation","status":"passed","title":"should handle Japanese punctuation"},{"ancestorTitles":["BaseValidator","Text Normalization"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Text Normalization should combine multiple normalization options","status":"passed","title":"should combine multiple normalization options"},{"ancestorTitles":["BaseValidator","Exact Matching"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Exact Matching should match single correct answer","status":"passed","title":"should match single correct answer"},{"ancestorTitles":["BaseValidator","Exact Matching"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Exact Matching should match any in array of answers","status":"passed","title":"should match any in array of answers"},{"ancestorTitles":["BaseValidator","Exact Matching"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Exact Matching should handle empty strings","status":"passed","title":"should handle empty strings"},{"ancestorTitles":["BaseValidator","Fuzzy Matching (Levenshtein Distance)"],"duration":1,"failureMessages":["Error: expect(received).toBeCloseTo(expected, precision)\n\nExpected: 0.5\nReceived: 0.75\n\nExpected precision:    2\nExpected difference: < 0.005\nReceived difference:   0.25\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts:165:64)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"BaseValidator Fuzzy Matching (Levenshtein Distance) should calculate similarity correctly","status":"failed","title":"should calculate similarity correctly"},{"ancestorTitles":["BaseValidator","Fuzzy Matching (Levenshtein Distance)"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Fuzzy Matching (Levenshtein Distance) should accept close matches above threshold","status":"passed","title":"should accept close matches above threshold"},{"ancestorTitles":["BaseValidator","Fuzzy Matching (Levenshtein Distance)"],"duration":1,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.5\nReceived: 0.75\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts:190:36)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"BaseValidator Fuzzy Matching (Levenshtein Distance) should use custom fuzzy threshold","status":"failed","title":"should use custom fuzzy threshold"},{"ancestorTitles":["BaseValidator","Fuzzy Matching (Levenshtein Distance)"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Fuzzy Matching (Levenshtein Distance) should handle case normalization in fuzzy matching","status":"passed","title":"should handle case normalization in fuzzy matching"},{"ancestorTitles":["BaseValidator","Custom Validation Rules"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Custom Validation Rules should apply custom rules","status":"passed","title":"should apply custom rules"},{"ancestorTitles":["BaseValidator","Custom Validation Rules"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Custom Validation Rules should handle multiple custom rules","status":"passed","title":"should handle multiple custom rules"},{"ancestorTitles":["BaseValidator","Custom Validation Rules"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Custom Validation Rules should calculate weighted scores","status":"passed","title":"should calculate weighted scores"},{"ancestorTitles":["BaseValidator","Custom Validation Rules"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Custom Validation Rules should handle empty custom rules","status":"passed","title":"should handle empty custom rules"},{"ancestorTitles":["BaseValidator","Feedback Generation"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Feedback Generation should generate appropriate feedback based on similarity","status":"passed","title":"should generate appropriate feedback based on similarity"},{"ancestorTitles":["BaseValidator","Feedback Generation"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Feedback Generation should identify specific corrections","status":"passed","title":"should identify specific corrections"},{"ancestorTitles":["BaseValidator","Feedback Generation"],"duration":1,"failureMessages":[],"fullName":"BaseValidator Feedback Generation should identify missing characters","status":"passed","title":"should identify missing characters"},{"ancestorTitles":["BaseValidator","Feedback Generation"],"duration":1,"failureMessages":[],"fullName":"BaseValidator Feedback Generation should identify extra characters","status":"passed","title":"should identify extra characters"},{"ancestorTitles":["BaseValidator","Feedback Generation"],"duration":1,"failureMessages":[],"fullName":"BaseValidator Feedback Generation should handle completely different strings","status":"passed","title":"should handle completely different strings"},{"ancestorTitles":["BaseValidator","Complex Validation Scenarios"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Complex Validation Scenarios should handle mixed case and punctuation","status":"passed","title":"should handle mixed case and punctuation"},{"ancestorTitles":["BaseValidator","Complex Validation Scenarios"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Complex Validation Scenarios should prioritize exact match over fuzzy match","status":"passed","title":"should prioritize exact match over fuzzy match"},{"ancestorTitles":["BaseValidator","Complex Validation Scenarios"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Complex Validation Scenarios should find best fuzzy match from array","status":"passed","title":"should find best fuzzy match from array"},{"ancestorTitles":["BaseValidator","Complex Validation Scenarios"],"duration":1,"failureMessages":[],"fullName":"BaseValidator Complex Validation Scenarios should handle Unicode characters","status":"passed","title":"should handle Unicode characters"},{"ancestorTitles":["BaseValidator","Complex Validation Scenarios"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Complex Validation Scenarios should handle emojis","status":"passed","title":"should handle emojis"},{"ancestorTitles":["BaseValidator","Performance Considerations"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Performance Considerations should handle long strings efficiently","status":"passed","title":"should handle long strings efficiently"},{"ancestorTitles":["BaseValidator","Performance Considerations"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Performance Considerations should handle many alternative answers","status":"passed","title":"should handle many alternative answers"},{"ancestorTitles":["BaseValidator","Performance Considerations"],"duration":1,"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 4\nReceived number of calls: 2\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts:378:19)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"BaseValidator Performance Considerations should cache normalized strings during comparison","status":"failed","title":"should cache normalized strings during comparison"},{"ancestorTitles":["BaseValidator","Edge Cases"],"duration":0,"failureMessages":["TypeError: Cannot read properties of null (reading 'trim')\n    at TestValidator.trim [as normalize] (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/base-validator.ts:57:27)\n    at TestValidator.normalize [as isExactMatch] (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/base-validator.ts:78:17)\n    at isExactMatch (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/base-validator.ts:86:12)\n    at Array.some (<anonymous>)\n    at TestValidator.some [as matchesAny] (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/base-validator.ts:85:27)\n    at TestValidator.validate (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts:20:14)\n    at Object.<anonymous> (/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/validation/__tests__/base-validator.test.ts:385:33)\n    at Promise.finally.completed (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at _runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:275:16)\n    at runTest (/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-runner/build/index.js:343:7)"],"fullName":"BaseValidator Edge Cases should handle null/undefined gracefully","status":"failed","title":"should handle null/undefined gracefully"},{"ancestorTitles":["BaseValidator","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Edge Cases should handle special regex characters","status":"passed","title":"should handle special regex characters"},{"ancestorTitles":["BaseValidator","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Edge Cases should handle strings with only whitespace","status":"passed","title":"should handle strings with only whitespace"},{"ancestorTitles":["BaseValidator","Edge Cases"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Edge Cases should handle very similar strings","status":"passed","title":"should handle very similar strings"},{"ancestorTitles":["BaseValidator","Options Validation"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Options Validation should use default options","status":"passed","title":"should use default options"},{"ancestorTitles":["BaseValidator","Options Validation"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Options Validation should merge custom options with defaults","status":"passed","title":"should merge custom options with defaults"},{"ancestorTitles":["BaseValidator","Options Validation"],"duration":0,"failureMessages":[],"fullName":"BaseValidator Options Validation should handle invalid threshold values","status":"passed","title":"should handle invalid threshold values"}]},{"numFailingTests":0,"numPassingTests":29,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1757525860570,"loadTestEnvironmentEnd":1757525860501,"loadTestEnvironmentStart":1757525860499,"runtime":69,"setupAfterEnvEnd":1757525860557,"setupAfterEnvStart":1757525860510,"setupFilesEnd":1757525860501,"setupFilesStart":1757525860501,"slow":false,"start":1757525860501},"testFilePath":"/home/beano/DevProjects/next_js/moshimoshi/src/lib/review-engine/__tests__/core/interfaces.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Core Interfaces","ReviewableContent"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewableContent should create valid kana content","status":"passed","title":"should create valid kana content"},{"ancestorTitles":["Core Interfaces","ReviewableContent"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewableContent should create valid kanji content","status":"passed","title":"should create valid kanji content"},{"ancestorTitles":["Core Interfaces","ReviewableContent"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces ReviewableContent should create valid vocabulary content","status":"passed","title":"should create valid vocabulary content"},{"ancestorTitles":["Core Interfaces","ReviewableContent"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewableContent should validate required fields","status":"passed","title":"should validate required fields"},{"ancestorTitles":["Core Interfaces","ReviewSession"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewSession should create a valid session","status":"passed","title":"should create a valid session"},{"ancestorTitles":["Core Interfaces","ReviewSession"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewSession should track session items correctly","status":"passed","title":"should track session items correctly"},{"ancestorTitles":["Core Interfaces","ReviewSession"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces ReviewSession should calculate session statistics","status":"passed","title":"should calculate session statistics"},{"ancestorTitles":["Core Interfaces","Events"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces Events should create session started event","status":"passed","title":"should create session started event"},{"ancestorTitles":["Core Interfaces","Events"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Events should create item answered event","status":"passed","title":"should create item answered event"},{"ancestorTitles":["Core Interfaces","Events"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Events should create progress updated event","status":"passed","title":"should create progress updated event"},{"ancestorTitles":["Core Interfaces","Events"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Events should validate event types","status":"passed","title":"should validate event types"},{"ancestorTitles":["Core Interfaces","Errors"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces Errors should create ReviewEngineError","status":"passed","title":"should create ReviewEngineError"},{"ancestorTitles":["Core Interfaces","Errors"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Errors should create specific error types","status":"passed","title":"should create specific error types"},{"ancestorTitles":["Core Interfaces","Errors"],"duration":2,"failureMessages":[],"fullName":"Core Interfaces Errors should check if error is recoverable","status":"passed","title":"should check if error is recoverable"},{"ancestorTitles":["Core Interfaces","Errors"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Errors should format error messages","status":"passed","title":"should format error messages"},{"ancestorTitles":["Core Interfaces","Errors"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces Errors should verify error codes","status":"passed","title":"should verify error codes"},{"ancestorTitles":["Core Interfaces","Configuration"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Configuration should have valid default configuration","status":"passed","title":"should have valid default configuration"},{"ancestorTitles":["Core Interfaces","Configuration"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Configuration should merge configurations correctly","status":"passed","title":"should merge configurations correctly"},{"ancestorTitles":["Core Interfaces","Configuration"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Configuration should validate user preferences","status":"passed","title":"should validate user preferences"},{"ancestorTitles":["Core Interfaces","Configuration"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Configuration should handle runtime config","status":"passed","title":"should handle runtime config"},{"ancestorTitles":["Core Interfaces","Type Guards and Helpers"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces Type Guards and Helpers should validate review modes","status":"passed","title":"should validate review modes"},{"ancestorTitles":["Core Interfaces","Type Guards and Helpers"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Type Guards and Helpers should validate session status","status":"passed","title":"should validate session status"},{"ancestorTitles":["Core Interfaces","Type Guards and Helpers"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Type Guards and Helpers should check ReviewEngineError type guard","status":"passed","title":"should check ReviewEngineError type guard"},{"ancestorTitles":["Core Interfaces","Default Mode Configurations"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Default Mode Configurations should have valid recognition mode defaults","status":"passed","title":"should have valid recognition mode defaults"},{"ancestorTitles":["Core Interfaces","Default Mode Configurations"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Default Mode Configurations should have valid recall mode defaults","status":"passed","title":"should have valid recall mode defaults"},{"ancestorTitles":["Core Interfaces","Default Mode Configurations"],"duration":1,"failureMessages":[],"fullName":"Core Interfaces Default Mode Configurations should have valid listening mode defaults","status":"passed","title":"should have valid listening mode defaults"},{"ancestorTitles":["Core Interfaces","Content Filters"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Content Filters should create valid content filter","status":"passed","title":"should create valid content filter"},{"ancestorTitles":["Core Interfaces","Performance and Scoring"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Performance and Scoring should define performance thresholds","status":"passed","title":"should define performance thresholds"},{"ancestorTitles":["Core Interfaces","Performance and Scoring"],"duration":0,"failureMessages":[],"fullName":"Core Interfaces Performance and Scoring should define scoring configuration","status":"passed","title":"should define scoring configuration"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":true,"collectCoverageFrom":["src/lib/review-engine/**/*.{ts,tsx}","src/app/api/review/**/*.{ts,tsx}","src/components/review/**/*.{ts,tsx}","!**/*.test.{ts,tsx}","!**/*.spec.{ts,tsx}","!**/__tests__/**","!**/*.d.ts","!**/interfaces.ts","!**/types.ts","!**/index.ts"],"coverageDirectory":"/home/beano/DevProjects/next_js/moshimoshi/coverage/review-engine","coverageProvider":"babel","coverageReporters":["text","text-summary","html","lcov","json-summary"],"coverageThreshold":{"global":{"branches":80,"functions":80,"lines":80,"statements":80},"./src/lib/review-engine/core/":{"branches":90,"functions":90,"lines":90,"statements":90},"./src/lib/review-engine/srs/":{"branches":95,"functions":95,"lines":95,"statements":95},"./src/lib/review-engine/validation/":{"branches":85,"functions":85,"lines":85,"statements":85}},"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":true,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":16,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-html-reporters/index.js",{"publicPath":"./coverage/review-engine","filename":"test-report.html","pageTitle":"Review Engine Test Report","expand":true,"openReport":false}]],"rootDir":"/home/beano/DevProjects/next_js/moshimoshi","runInBand":false,"runTestsByPath":false,"seed":-2047802870,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPatterns":{"patterns":["interfaces.test|algorithm.test|validation"],"type":"TestPathPatterns"},"testSequencer":"/home/beano/DevProjects/next_js/moshimoshi/node_modules/@jest/test-sequencer/build/index.js","testTimeout":10000,"updateSnapshot":"new","useStderr":false,"verbose":true,"waitForUnhandledRejections":false,"watch":false,"watchAll":false,"watchPlugins":[{"config":{},"path":"/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-watch-typeahead/build/file_name_plugin/plugin.js"},{"config":{},"path":"/home/beano/DevProjects/next_js/moshimoshi/node_modules/jest-watch-typeahead/build/test_name_plugin/plugin.js"}],"watchman":true,"workerThreads":false,"coverageLinkPath":"lcov-report/index.html"},"endTime":1757525860572,"_reporterOptions":{"publicPath":"./coverage/review-engine","filename":"test-report.html","expand":true,"pageTitle":"Review Engine Test Report","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})